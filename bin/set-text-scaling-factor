#!/bin/bash
factor="${1:-}"
if [[ -z "$factor" ]]; then
	if ! declare -F output_is_hidpi; then
		. ~/.bashrc
	fi
	if output_is_hidpi; then
		factor=1.5
	else
		factor=1
	fi
fi
export "XCURSOR_SIZE=$(echo "24 * $factor" | bc | cut -d. -f1)"
set -e
gsettings set org.gnome.desktop.interface cursor-size "$XCURSOR_SIZE"
exec gsettings set org.gnome.desktop.interface text-scaling-factor "$factor"
